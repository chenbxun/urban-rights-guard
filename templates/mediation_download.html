{% extends "base.html" %}

{% block content %}
<div class="row mt-4">

    <div class="col-md-3 mb-4">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-primary text-white fw-bold py-3">
                âš–ï¸ è°ƒè§£æœåŠ¡å¤§å…
            </div>
            <div class="list-group list-group-flush">
                <a href="/mediation/apply" class="list-group-item list-group-item-action py-3 d-flex justify-content-between align-items-center">
                    å¿«é€Ÿè°ƒè§£å…¥å£
                    <span class="badge bg-danger rounded-pill">Hot</span>
                </a>
                <a href="/mediation/status" class="list-group-item list-group-item-action py-3">
                    çº çº·è°ƒè§£è¿›åº¦æŸ¥è¯¢
                </a>
                <a href="/mediation/upload" class="list-group-item list-group-item-action py-3">
                    å½•åƒ/å½•éŸ³ä¸Šä¼ 
                </a>
                <a href="/mediation/download" class="list-group-item list-group-item-action py-3 sidebar-active">
                    å½•åƒ/å½•éŸ³ä¸‹è½½
                </a>
                <a href="/mediation/hotline" class="list-group-item list-group-item-action py-3 text-muted">
                    <small>24å°æ—¶äººå·¥çƒ­çº¿</small>
                </a>
            </div>
        </div>

        <div class="alert alert-info mt-3 shadow-sm border-0 small">
            <i class="bi bi-info-circle-fill"></i> æç¤ºï¼š
            ä¸Šä¼ å½•éŸ³å½•åƒå‰ï¼Œè¯·ç¡®ä¿æ–‡ä»¶æ ¼å¼ä¸º MP3 æˆ– MP4ï¼Œå¤§å°ä¸è¶…è¿‡ 500Mã€‚
        </div>
    </div>

    <div class="col-md-9">
        <div class="card shadow border-0">
            <div class="card-header bg-white border-bottom py-3 d-flex justify-content-between align-items-center">
                <h4 class="fw-bold text-primary mb-0">ğŸ’¾ å½•éŸ³å½•åƒä¸‹è½½ä¸­å¿ƒ</h4>
                <a href="/mediation" class="btn btn-outline-secondary btn-sm">
                    &lt; è¿”å›ä¸“å®¶åˆ—è¡¨
                </a>
            </div>
            <div class="card-body p-4">
                
                {% if files %}
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th scope="col" style="width: 5%">#</th>
                                <th scope="col" style="width: 55%">æ–‡ä»¶å</th>
                                <th scope="col" style="width: 20%">æ–‡ä»¶å¤§å°</th>
                                <th scope="col" style="width: 20%" class="text-end">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for file in files %}
                            <tr>
                                <th scope="row">{{ loop.index }}</th>
                                <td>
                                    <i class="bi bi-file-earmark-play text-primary me-2"></i>
                                    {{ file.name }}
                                </td>
                                <td class="text-muted small">{{ file.size }}</td>
                                <td class="text-end">
                                    <a href="/mediation/download/{{ file.name }}" class="btn btn-outline-primary btn-sm rounded-pill" target="_blank">
                                        â¬‡ ä¸‹è½½
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                    <div class="alert alert-warning text-center py-4">
                        <h4 class="alert-heading">æš‚æ— æ–‡ä»¶</h4>
                        <p>å½“å‰æ¡£æ¡ˆåº“ä¸­æ²¡æœ‰å¯ç”¨çš„å½•éŸ³æˆ–å½•åƒè¯æ®ã€‚</p>
                        <hr>
                        <a href="/mediation/upload" class="btn btn-warning">å»ä¸Šä¼ ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶</a>
                    </div>
                {% endif %}

            </div>
        </div>
    </div>
</div>

<style>
    /* ä¾§è¾¹æ é€‰ä¸­æ ·å¼ */
    .sidebar-active {
        background-color: #fff !important;
        color: #0d6efd !important;
        font-weight: bold;
        border-left: 5px solid #0d6efd !important;
        padding-left: 15px !important;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
</style>
{% endblock %}
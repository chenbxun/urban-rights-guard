{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">

        <div class="text-center mb-5 mt-4">
            <h2 class="fw-bold text-primary">åŸä¸­æ‘æ”¹é€ æ”¿ç­–æƒå¨å…¬ç¤ºä¸“åŒº</h2>
            <p class="text-muted">åŒæ­¥æ­¦æ±‰ã€æ±Ÿè‹æœ€æ–°æ”¿ç­–æ–‡ä»¶ | å®æ—¶æ›´æ–° | æƒå¨å‘å¸ƒ</p>
        </div>

        <div class="d-flex justify-content-center mb-4">
            <div class="btn-group" role="group">
                <a href="/policy?region=æ­¦æ±‰" class="btn btn-outline-primary {% if current_region == 'æ­¦æ±‰' %}active{% endif %}">
                    æ­¦æ±‰åœ°åŒºæ”¿ç­–
                </a>
                <a href="/policy?region=æ±Ÿè‹" class="btn btn-outline-primary {% if current_region == 'æ±Ÿè‹' %}active{% endif %}">
                    æ±Ÿè‹åœ°åŒºæ”¿ç­–
                </a>
            </div>
        </div>

        {% for item in results %}
        <div class="card shadow-sm mb-4 border-0 border-start border-primary border-4">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h5 class="fw-bold text-dark mb-0">{{ item.title }}</h5>
                    <span class="badge bg-secondary">{{ current_region }}</span>
                </div>
                <p class="text-muted mb-3" style="font-size: 0.95rem;">
                    <strong>é¢„è§ˆï¼š</strong>{{ item.summary }}
                </p>
                <div class="d-flex justify-content-between align-items-center">
                    <div class="small text-secondary">
                        <span>ğŸ›ï¸ {{ item.source }}</span>
                        <span class="ms-3">ğŸ“… {{ item.date }}</span>
                    </div>
                    <a href="/policy/{{ current_region }}/{{ item.filename }}" class="btn btn-outline-primary btn-sm">
                        ğŸ“„ ä¸‹è½½/é˜…è¯»åŸä»¶
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<button type="button" class="btn btn-primary btn-lg rounded-circle shadow" id="btn-back-to-top" 
    style="position: fixed; bottom: 40px; right: 40px; display: none; z-index: 1000; width: 60px; height: 60px;">
    â†‘
</button>

<script>
    // è·å–æŒ‰é’®
    let mybutton = document.getElementById("btn-back-to-top");

    // å½“ç”¨æˆ·å‘ä¸‹æ»šåŠ¨ 20px æ—¶ï¼Œæ˜¾ç¤ºæŒ‰é’®
    window.onscroll = function () {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    };

    // å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ»šåŠ¨åˆ°æ–‡æ¡£é¡¶éƒ¨
    mybutton.addEventListener("click", function () {
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
    });
</script>

{% endblock %}